
/* Staff columns container */
.calendar-staff-cols {
  flex: 1;
  overflow: auto;
  height: 100%;
  position: relative;
  contain: content;
  scrollbar-width: thin;
  will-change: transform;
  transform: translateZ(0);
  -webkit-transform-style: preserve-3d; /* Per Safari */
  transform-style: preserve-3d;
}

/* Staff columns wrapper for better organization */
.staff-columns-wrapper {
  height: 100%;
  width: 100%;
  position: relative;
  min-height: 1200px;
  display: grid;
  contain: content;
}

/* Individual staff column */
.calendar-staff-col {
  height: 100%;
  border-right: 1px solid #e5e7eb;
  background: #fff;
  position: relative;
  contain: content;
  will-change: transform;
  transform: translateZ(0);
  -webkit-transform-style: preserve-3d; /* Per Safari */
  transform-style: preserve-3d;
  z-index: 1; /* Ridotto il z-index per non interferire con gli eventi */
}

/* Hide unnecessary FullCalendar elements */
.calendar-staff-col .fc-timegrid-slot-label,
.calendar-staff-col .fc-timegrid-axis {
  display: none !important;
}

/* Show time labels only in time column */
.calendar-time-inner .fc-timegrid-slot-label {
  visibility: visible !important;
  display: block !important;
}

/* Empty state styling */
.calendar-staff-cols:empty::after {
  content: "Nessun operatore disponibile";
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 100%;
  color: #64748b;
  font-size: 0.9rem;
}

/* Ensure events remain interactive even during transform */
.calendar-staff-col .fc-event {
  transform: translateZ(0);
  will-change: transform;
  z-index: 10;
  contain: content;
  pointer-events: auto !important;
}

/* Evitare box-shadow durante lo scroll per migliorare le performance */
.is-scrolling .fc-event {
  box-shadow: none !important;
  transition: none !important;
}

/* Migliorare la performance di rendering per eventi multipli */
.fc-event-main {
  contain: content;
  will-change: transform;
  transform: translateZ(0);
  pointer-events: auto !important;
}

/* Prevenire problemi di stacking context per contenuti interni */
.fc-event-title,
.fc-event-time {
  position: relative;
  z-index: 2;
  pointer-events: auto !important;
}

/* Stile per staff bloccato (non disponibile) */
.staff-blocked .fc-timegrid-col-frame {
  background-color: rgba(241, 245, 249, 0.6);
  position: relative;
}

/* Indicatore visuale per staff bloccato */
.staff-blocked .fc-timegrid-col-frame::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    135deg,
    rgba(241, 245, 249, 0.7),
    rgba(241, 245, 249, 0.7) 10px,
    rgba(226, 232, 240, 0.7) 10px,
    rgba(226, 232, 240, 0.7) 20px
  );
  z-index: 1;
  pointer-events: none;
}

/* Assicura che tutti gli elementi interattivi del calendario funzionino */
.fc-timegrid-event-harness,
.fc-timegrid-event,
.fc-daygrid-event-harness,
.fc-daygrid-event {
  pointer-events: auto !important;
  cursor: pointer !important;
}


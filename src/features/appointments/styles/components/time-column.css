/* Fixed time column on the left */
.calendar-time-col {
  width: 80px;
  min-width: 80px;
  max-width: 80px;
  background: #fff;
  border-right: 1px solid #e5e7eb;
  position: sticky;
  left: 0;
  z-index: 5;
  overflow-y: auto;
  overflow-x: hidden;
  height: 100%;
  box-shadow: 2px 0 5px rgba(0,0,0,0.05);
  will-change: scroll-position, transform;
  scrollbar-width: none;
  -ms-overflow-style: none;
  overscroll-behavior: none;
  scroll-behavior: smooth;
  min-height: 1200px;
  transform: translateZ(0);
  -webkit-transform-style: preserve-3d; /* Per Safari */
  transform-style: preserve-3d;
}

.calendar-time-inner {
  width: 80px;
  height: 100%;
  min-height: 1200px;
  contain: content;
  will-change: transform;
}

.time-slot-label {
  padding: 0 8px;
  font-size: 0.75rem;
  color: #6b7280;
  text-align: right;
  white-space: nowrap;
}

/* No scrollbar styling */
.calendar-time-col::-webkit-scrollbar {
  display: none;
}

/* Ottimizzazioni per lo scroll su Safari */
@supports (-webkit-touch-callout: none) {
  .calendar-time-col {
    -webkit-overflow-scrolling: touch;
  }
  
  .calendar-time-col,
  .calendar-staff-col .fc-scroller {
    position: relative;
    -webkit-transform-style: preserve-3d;
    transform-style: preserve-3d;
  }
}

/* Ottimizzazioni per dispositivi touch */
@media (pointer: coarse) {
  .calendar-time-col {
    scroll-snap-type: y proximity;
  }
  
  .fc-timegrid-slots tr {
    scroll-snap-align: start;
  }
}

/* Ottimizzazione per firefox */
@-moz-document url-prefix() {
  .calendar-time-col {
    scrollbar-width: none;
  }
  
  .calendar-time-col,
  .calendar-staff-col .fc-scroller {
    will-change: transform;
  }
}

.calendar-staff-col .calendar-scroller {
  height: 100%;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #cbd5e0 #f8fafc;
}

.calendar-staff-col .calendar-scroller::-webkit-scrollbar {
  width: 6px;
}

.calendar-staff-col .calendar-scroller::-webkit-scrollbar-track {
  background: #f8fafc;
}

.calendar-staff-col .calendar-scroller::-webkit-scrollbar-thumb {
  background-color: #cbd5e0;
  border-radius: 3px;
}

.time-grid-slots tr {
  height: 40px;
  border-bottom: 1px solid #e5e7eb;
}

.time-grid-slots td {
  height: 40px;
  border-bottom: 1px solid #e5e7eb;
  position: relative;
}

/* Calendar time slots */
.time-slot {
  height: 40px;
  border-bottom: 1px solid #e5e7eb;
  position: relative;
}

/* Calendar zoom levels */
.zoom-level-0-5 .time-slot {
  height: 20px;
}

.zoom-level-0-75 .time-slot {
  height: 30px;
}

.zoom-level-1 .time-slot {
  height: 40px;
}

.zoom-level-1-5 .time-slot {
  height: 60px;
}

.zoom-level-2 .time-slot {
  height: 80px;
}
